version: '3.8'

services:
  video-app:
    build: .
    container_name: dormhub-video
    ports:
      - "8000:8000"
    volumes:
      # Mount videos directory (create it locally first)
      - ./videos:/app/videos
      # Mount HLS output directory
      - ./hls:/app/hls
    environment:
      - NODE_ENV=production
      - PORT=8000
    restart: unless-stopped
    networks:
      - video-network

networks:
  video-network:
    driver: bridge

